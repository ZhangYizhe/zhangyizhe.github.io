import{_ as L,u as R,x as D,l as c,j as G,s as H,o as U,a as g,c as b,b as t,n as f,f as i,t as v,e as w,w as z,v as T,F as k,k as y,p as A,i as j}from"./index-BtRSe40Q.js";import{a as N}from"./axios-Cm0UX6qg.js";const a=p=>(A("data-v-77074076"),p=p(),j(),p),$={style:{"min-height":"calc(100vh - 240px)"}},F={style:{"background-color":"#fafafa","padding-bottom":"35px"}},M={class:"container py-3 px-3"},P={class:"buttons"},q=a(()=>t("i",{class:"bi bi-spellcheck",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),K=a(()=>t("i",{class:"bi bi-spellcheck",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),O=a(()=>t("i",{class:"bi bi-spellcheck",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),W={class:"container canvas mb-5",style:{"margin-top":"-30px","background-color":"white"}},Y={class:"columns is-multiline m-0"},J={class:"column"},Q={class:"columns is-multiline"},X=a(()=>t("div",{class:"column is-full"},[t("div",{class:"columns is-mobile"},[t("div",{class:"column is-narrow",style:{"border-bottom":"3px solid #485fc7"}},[t("span",{class:"main-color",style:{"font-weight":"bold"}},"DETECT LANGUAGE")])])],-1)),Z={class:"column is-full p-5",style:{"border-top":"1px solid #cbcbcb","border-right":"1px solid #cbcbcb"}},tt=["disabled"],et={class:"column is-full has-text-right",style:{"border-top":"1px solid #cbcbcb","border-bottom":"1px solid #cbcbcb","border-right":"1px solid #cbcbcb","margin-bottom":"-1px"}},st=a(()=>t("i",{class:"bi bi-trash3",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),ot=a(()=>t("i",{class:"bi bi-clipboard",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),lt=["disabled"],nt=a(()=>t("i",{class:"bi bi-spellcheck",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),it={class:"column"},at={class:"columns is-multiline"},rt=a(()=>t("div",{class:"column is-full"},[t("div",{class:"columns is-mobile"},[t("div",{class:"column is-narrow",style:{"border-bottom":"3px solid #485fc7"}},[t("span",{class:"main-color",style:{"font-weight":"bold"}},"RESULT")])])],-1)),ct={class:"column is-full p-5",style:{"border-top":"1px solid #cbcbcb"}},ut={class:"column is-full has-text-right",style:{"border-top":"1px solid #cbcbcb","border-bottom":"1px solid #cbcbcb","border-right":"1px solid #cbcbcb","margin-bottom":"-1px"}},dt=a(()=>t("i",{class:"bi bi-translate",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),pt=a(()=>t("i",{class:"bi bi-clipboard",style:{"margin-right":"5px","font-size":"1rem"}},null,-1)),mt={__name:"LanguageView",setup(p){const u=R(),o=D({left:"",right:""}),d=c(null),m=c(null),r=c(!1),_=c("Copy"),n=c("grammar"),x=c({translation:`I want you to act as an English translator, spelling corrector and improver. I will speak to you in any language and you will detect the language, translate it and answer in the corrected and improved version of my text, in English. I want you to replace my simplified A0-level words and sentences with more beautiful and elegant, upper level English words and sentences. Keep the meaning same, but make them more literary. I want you to only reply the correction, the improvements and nothing else, do not write explanations.
`,grammar:`Proofread and correct the below text and rewrite the corrected version, the text was delimited with triple backticks. If you don't find any errors, just response the original text. You only response the correct result without any other description. 
After reply the result, check the content by the below steps:
Step-1: Don't use triple backticks around the text.
Step-2: Don't use conversation tune to response.
`,c2m:"我希望你是一個廣東話口語轉書面語的翻譯、糾正員和改進員。我會用廣東話和你交流，你會轉譯內容為中文書面語，你只需要轉譯內容，保持含義相同，但使它們更具文學性。我希望你只回復更正、改進，不要寫任何其他內容，不要寫解釋。"}),C=G(()=>{let l="";return n.value==="grammar"?l=x.value.grammar:n.value==="translate"?l=x.value.translation:l=x.value.c2m,l+"\nText: ```"+o.left+"```"});function h(){d.value.style.height="0px",m.value.style.height="0px";let l=d.value.scrollHeight,e=m.value.scrollHeight,s;l>=e?s=l:s=e,d.value.style.height=s+"px",m.value.style.height=s+"px"}function I(){if(o.left===""||r.value===!0)return;r.value=!0;const l={"Content-Type":"application/json"};N.post(u.gptURL,{temperature:0,messages:[{role:"user",content:C.value}]},{headers:l}).then(e=>{r.value=!1;try{o.right=e.data.choices[0].message.content,y(()=>{h()})}catch{alert(e.data)}}).catch(e=>{r.value=!1;try{const s=e.response.data.error.message;alert(s)}catch{alert(e)}})}function V(){o.left="",o.right="",y(()=>{h()})}function S(){const l=o.right;navigator.clipboard.writeText(l),_.value="Success",y(()=>{_.value="Copy"})}async function B(){d.value.focus(),o.left=await navigator.clipboard.readText(),y(()=>{h()})}function E(){o.right.trim()!==""&&window.open("https://translate.google.com.hk/?sl=auto&tl=zh-TW&text="+o.right+"&op=translate","_blank")}return H(o,(l,e)=>{h()}),U(()=>{u.tag="language"}),(l,e)=>(g(),b("div",$,[t("div",F,[t("div",M,[t("div",P,[t("button",{class:f(["button",n.value==="grammar"?"is-link":""]),style:{"font-size":"0.8rem","font-weight":"bold"},onClick:e[0]||(e[0]=s=>n.value="grammar")},[q,i("Grammar ( "+v(w(u).languageVersion.grammar)+" ) ",1)],2),t("button",{class:f(["button",n.value==="translate"?"is-link":""]),style:{"font-size":"0.8rem","font-weight":"bold"},onClick:e[1]||(e[1]=s=>n.value="translate")},[K,i("Translate ( "+v(w(u).languageVersion.translate)+" ) ",1)],2),t("button",{class:f(["button",n.value==="c2m"?"is-link":""]),style:{"font-size":"0.8rem","font-weight":"bold"},onClick:e[2]||(e[2]=s=>n.value="c2m")},[O,i("粵轉書面 ( "+v(w(u).languageVersion.c2m)+" ) ",1)],2)])])]),t("div",W,[t("div",Y,[t("div",J,[t("div",Q,[X,t("div",Z,[z(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.left=s),placeholder:"Input",ref_key:"leftInputRef",ref:d,disabled:r.value},null,8,tt),[[T,o.left]])]),t("div",et,[t("button",{class:"button is-danger is-outlined",style:{"font-size":"0.8rem","font-weight":"bold","margin-right":"10px"},onClick:V},[st,i(" Clean ")]),t("button",{class:"button is-warning is-outlined",style:{"font-size":"0.8rem","font-weight":"bold","margin-right":"10px"},onClick:B},[ot,i(" Paste ")]),t("button",{class:f(["button is-link is-outlined",r.value?"is-loading":""]),style:{"font-size":"0.8rem","font-weight":"bold"},disabled:r.value,onClick:I},[nt,n.value==="grammar"?(g(),b(k,{key:0},[i(" Grammar ")],64)):n.value==="translate"?(g(),b(k,{key:1},[i(" Translate ")],64)):(g(),b(k,{key:2},[i(" 粵轉書面 ")],64))],10,lt)])])]),t("div",it,[t("div",at,[rt,t("div",ct,[z(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.right=s),placeholder:"Output",ref_key:"rightInputRef",ref:m},null,512),[[T,o.right]])]),t("div",ut,[t("button",{class:"button is-link is-outlined mr-2",style:{"font-size":"0.8rem","font-weight":"bold"},onClick:E},[dt,i(" Google translate ")]),t("button",{class:"button is-link is-outlined",style:{"font-size":"0.8rem","font-weight":"bold"},onClick:S},[pt,i(" "+v(_.value),1)])])])])])])]))}},bt=L(mt,[["__scopeId","data-v-77074076"]]);export{bt as default};
